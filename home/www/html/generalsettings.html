<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="Expires" content="0">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Cache-control" content="no-cache">
    <meta http-equiv="Cache" content="no-cache">
    <link href="../static/layui/css/layui.css" rel="stylesheet" >
    <link href="../static/css/index.css?v=1.0" rel="stylesheet" >
    <title>Miner Console</title>
</head>
<body>
<div class="header">
    <img src="/static/logo/logo.png" class="logo p20" />
</div>

<ul class="nav fgrayh mt5 layui-clear">
    <li><a href="/index.html">Miner Status</a></li>
    <li class="navhover"><a href="/html/generalsettings.html">Miner Configuration</a></li>
    <li><a href="/html/overview.html">System</a></li>
    <li><a href="/html/settings.html">Network</a></li>
</ul>
<ul class="navchild nav2 layui-clear">
    <li><a href="/html/overview.html">Overview</a></li>
    <li><a href="/html/administration.html">Administration</a></li>
    <li><a href="/html/upgrade.html">Upgrade</a></li>
    <li><a href="/html/reboot.html">Reboot</a></li>
</ul>
<ul class="navchild nav1 layui-clear" style="display:block;">
    <li class="navhover"><a href="/html/generalsettings.html">General Settings</a></li>
</ul>
<ul class="navchild nav0 layui-clear">
    <li><a href="/index.html">Miner Status</a></li>
</ul>
<ul class="navchild nav3 layui-clear">
    <li><a href="/html/settings.html">Settings</a></li>
</ul>
<div class="content p10 mb30" id="generalsettings">
    <div class="title">
        <h1 class="f18 bborder p5-y" style="font-weight: bold;">Miner General Configuration</h1>
    </div>
    <div class="dashedk">
        <div class="layui-clear">
            <div class="dashedk pool_div fl" style="margin-right:10px;padding:20px 30px;width: 40%;">
                <h3 class="panel-title p5 dtitle f16"><strong>Pool1</strong></h3>
                <table class="contable p30-x" width="100%">
                    <tr>
                        <td width="20%">URL</td>
                        <td width="80%">
                            <input name="Pool1" value="" disabled="disabled" class="layui-input layui-disabled" type="text" style="width:90%">
                        </td>
                    </tr>
                    <tr>
                        <td>Worker</td>
                        <td>
                            <input name="UserName1" value="" disabled="disabled" class="layui-input layui-disabled" type="text" style="width:90%">
                        </td>
                    </tr>
                    <tr>
                        <td>Password</td>
                        <td>
                            <input name="Password1" value="" disabled="disabled" class="layui-input layui-disabled" type="text" style="width:90%">
                        </td>
                    </tr>
                </table>
            </div>
            <div class="dashedk pool_div fl" style="padding:20px 30px;width: 40%;">
                <h3 class="panel-title p5 dtitle f16"><strong>Pool2</strong></h3>
                <table class="contable p30-x" width="100%">
                    <tr>
                        <td width="20%">URL</td>
                        <td width="80%">
                            <input name="Pool2" value="" disabled="disabled" class="layui-input layui-disabled" type="text" style="width:90%">
                        </td>
                    </tr>
                    <tr>
                        <td>Worker</td>
                        <td>
                            <input name="UserName2" value="" disabled="disabled" class="layui-input layui-disabled" type="text" style="width:90%">
                        </td>
                    </tr>
                    <tr>
                        <td>Password</td>
                        <td>
                            <input name="Password2" value="" disabled="disabled" class="layui-input layui-disabled" type="text" style="width:90%">
                        </td>
                    </tr>
                </table>
            </div>
            <div class="dashedk pool_div fl" style="margin:15px 10px 0 0;padding:20px 30px;width: 40%;">
                <h3 class="panel-title p5 dtitle f16"><strong>Pool3</strong></h3>
                <table class="contable p30-x" width="100%">
                    <tr>
                        <td width="20%">URL</td>
                        <td width="80%">
                            <input name="Pool3" value="" disabled="disabled" class="layui-input layui-disabled" type="text" style="width:90%">
                        </td>
                    </tr>
                    <tr>
                        <td>Worker</td>
                        <td>
                            <input name="UserName3" value="" disabled="disabled" class="layui-input layui-disabled" type="text" style="width:90%">
                        </td>
                    </tr>
                    <tr>
                        <td>Password</td>
                        <td>
                            <input name="Password3" value="" disabled="disabled" class="layui-input layui-disabled" type="text" style="width:90%">
                        </td>
                    </tr>
                </table>
            </div>
            <div class="dashedk pool_div fl" style="margin:15px 0 0 0;padding:20px 30px;width: 40%;">
                <h3 class="panel-title p5 dtitle f16"><strong>Pool4</strong></h3>
                <table class="contable p30-x" width="100%">
                    <tr>
                        <td width="20%">URL</td>
                        <td width="80%">
                            <input name="Pool4" value="" disabled="disabled" class="layui-input layui-disabled" type="text" style="width:90%">
                        </td>
                    </tr>
                    <tr>
                        <td>Worker</td>
                        <td>
                            <input name="UserName4" value="" disabled="disabled" class="layui-input layui-disabled" type="text" style="width:90%">
                        </td>
                    </tr>
                    <tr>
                        <td>Password</td>
                        <td>
                            <input name="Password4" value="" disabled="disabled" class="layui-input layui-disabled" type="text" style="width:90%">
                        </td>
                    </tr>
                </table>
            </div>
        </div>
        <div class="dashedk FANSetup none" style="margin-top:15px;padding:20px 30px;">
            <h3 class="panel-title p5 dtitle f16"><strong>FAN Setup</strong></h3>
            <table class="contable p30-x" width="100%">
                <tr>
                    <td>Fan Speed:</td>
                    <td width="70%" class="Frequencytd">
                        <input name="fanspeed"  class="layui-input w100 layui-disabled" disabled="" autocomplete="off" style="margin-left:15px;" />
                    </td>
                </tr>
            </table>

        </div>
        <div class="dashedk" style="margin-top:15px;padding:20px 30px;">
            <h3 class="panel-title p5 dtitle f16"><strong>Frequency</strong></h3>
            <table class="contable p30-x" width="100%">
                <tr>
                    <td width="20%">Miner Running Frequency(Mhz)</td>
                    <td width="80%" class="Frequencytd">
                        <input name="Frequency"  disabled="disabled" class="layui-input fl layui-disabled" type="text" style="width: 30%;margin-right: 15px;">
                        <div class="Frequency-tipcon Frequency-tipcon-Frequency fl" style="width: 60%;">(Note: <span class="tip1"></span>MHz is our high hashrate frequency with voltage VID range of <span class="tip2"></span>. The lower VID value means the higher voltage or higher power consumption.If you want to try overclock frequency, you usually need to adjust VID to be lower.<br/>Warning: overclock is at your own risk and vary in performance from miner to miner. It may damage miner in overheating condition.) </div>
                    </td>
                </tr>
            </table>
        </div>
        <div class="dashedk" style="margin-top:15px;padding:20px 30px;">
            <h3 class="panel-title p5 dtitle f16"><strong>Voltage</strong></h3>
            <table class="contable p30-x" width="100%">
                <tr>
                    <td width="10%" class="Frequencytd" style="padding-bottom:15px;">
                        Manual control
                        <input type="radio" name="vidmode" value="0" disabled="disabled" class="layui-radio layui-disabled" />
                    </td>
                    <td width="30%" class="Frequencytd" style="padding-bottom:15px;">
                        Auto control
                        <input type="radio" name="vidmode" value="1" disabled="disabled" class="layui-radio layui-disabled" /> (Note:software auto search base values.)
                    </td>
                </tr>
                <tr>
                    <td width="20%">Miner Operational Voltage(Level)</td>
                    <td width="80%" class="Frequencytd" style="padding-top: 20px;">
                        <input name="Voltage" disabled="disabled" class="layui-input fl layui-disabled" type="text" style="width: 30%;margin-right: 15px;">
                        <div class="Frequency-tipcon Frequency-tipcon-Voltage fl" style="width: 60%;">(Note: VID <span class="tip1 fred"></span> is our default voltage setting and the most suitable value of VID may vary from miner to miner. User can slightly adjust VID up or down to get the best performance. <span class="tip3"></span>MHz is our default frequency with voltage VID range of <span class="tip2"></span>. The lower VID value means the higher voltage.If you want to try higher overclock frequency, you may need to adjust VID to be lower.<br/>Warning: overclock is at your own risk and vary in performance. It may damage miner in overheating condition.) </div>
                    </td>
                </tr>
            </table>
        </div>
    </div>
    <div style="padding-top:15px;" align="right">
        <a href="javascript:Config();" class="layui-btn layui-btn-radius">Config</a>
    </div>
</div>
<script src="../static/js/jquery.js" type="text/javascript"></script>
<script src="../static/layui/layui.js" type="text/javascript"></script>
<script src="../static/js/index.js?v=1.3" type="text/javascript"></script>
<script>
   var minername = getMinerNameValue();
   layui.use('layer',function(){
        var layer = layui.layer;
        var index = layer.load();
       //var minername = getMinerNameValue();
        if(minername == 19)
        {
            $(".FANSetup").removeClass("none");
        }
        getConf();
        //配置miner
        function getConf(){
            $.ajax({
                url: '../conf/miner.conf?v='+new Date,
                type: "GET",
                cache: false,
                data: '',
                dataType: "json",
                success:function(data){
                    layer.close(index);
                    loadform(data);
                },
                error:function()
                {
                    setTimeout('getConf()',1000);
                }
            });
        }
        //test 时判断
        var getVal = window.location.search;
        if(getVal == "?test"){
            //var minername = getMinerNameValue();
            if(minername == 16 || minername == 17 || minername == 18)
            {
                $.ajax({// #/innocfg/defaultVID
                    type: "POST",
                    url: "../cgi-bin/selftest.py",
                    data: '',
                    dataType: "json",
                    beforeSend:function(){
                        layer.closeAll('loading');
                        layer.load();
                    }
                });
                selftest();
            }
        }
    });
    //判断type
    selectHtmlOption(minername);
    //加载表单
    function loadform(data){
        if(data['Pool1'] != 'none'){
            $('input[name=Pool1]').val(data.Pool1).attr('title',data.Pool1);
            $('input[name=UserName1]').val(data.UserName1).attr('title',data.UserName1);
            $('input[name=Password1]').val(data.Password1).attr('title',data.Password1);
        }
        if(data['Pool2'] != 'none'){
            $('input[name=Pool2]').val(data.Pool2).attr('title',data.Pool2);
            $('input[name=UserName2]').val(data.UserName2).attr('title',data.UserName2);
            $('input[name=Password2]').val(data.Password2).attr('title',data.Password2);
        }
        if(data['Pool3'] != 'none'){
            $('input[name=Pool3]').val(data.Pool3).attr('title',data.Pool3);
            $('input[name=UserName3]').val(data.UserName3).attr('title',data.UserName3);
            $('input[name=Password3]').val(data.Password3).attr('title',data.Password3);
        }
        if(data['Pool4'] != 'none'){
            $('input[name=Pool4]').val(data.Pool4).attr('title',data.Pool4);
            $('input[name=UserName4]').val(data.UserName4).attr('title',data.UserName4);
            $('input[name=Password4]').val(data.Password4).attr('title',data.Password4);
        }
        $("[name=speed]").val(data.speed);
        $('input[name=Frequency]').val(data.Frequency).attr('title',data.Frequency);
        $('input[name=Voltage]').val(data.Voltage).attr('title',data.Voltage);
        //$("input[type='radio'][name='fanmode'][value='"+data.fanmode+"']").attr("checked", "checked");
        $("input[type='radio'][name='vidmode'][value='"+data.vidmode+"']").attr("checked", "checked");
		$('[name=fanspeed]').val(data.fanspeed).attr('title',data.fanspeed);
    }
    function Config(){
        var islogin = getcookie('login');
        if(islogin){
            window.location.href='generalsetup.html?'+Math.random();
        }else{
            window.location.href='login.html';
        }
    }
</script>
</body>
</html>
